html
  head
    link(rel='stylesheet', href='bootstrap/dist/css/bootstrap.min.css')
body
  .container.py-3
    h3 Sorting / finding and limit mongodb results
    p 
      | We created 
      code 120 books 
      | in your database with a 
      code title 
      | , a 
      code order  
      | and a 
      code timestamp.
      |
      br
      | With the following select fields you can filter and sort the result below.

    form(action='/')
      //TODO this could be done with a inline if else condition.
      //something like filer === 7 ? selected : null
      .row
        .col-md-3
          select(name='filter' class='form-control')
            option(value='') Limit by time
            if filter == 7
              option(value='7' selected) last week
            else
              option(value='7') last week

            if filter == 30
              option(value='30' selected) last month
            else
              option(value='30') last month

            if filter == 365
              option(value='365' selected) last year
            else
              option(value='365') last year

        .col-md-3
          select(name='limit' class='form-control')
            option(value='') Limit records
            if limit == 10
              option(value='10' selected) 10
            else
              option(value='10') 10
            if limit == 20
              option(value='20' selected) 20
            else
              option(value='20') 20
            if limit == 100
              option(value='100' selected) 100
            else
              option(value='100') 100
        .col-md-3
          select(name='order' class='form-control')
            option(value='') Sort title/order
            if order == "title"
              option(value='title' selected) Title
            else
              option(value='title') Title
            if order == "order"
              option(value='order' selected) Order
            else 
              option(value='order') Order

        .col-md-3
          button(type='submit' class='btn btn-primary btn-block') Sort

  table.table
    th
      = "Title:" 
    th
      = "Order:" 
    th
      = "Date:" 
    each book in books
      tr
        td
          = book.title
        td
          = book.order
        td
          = book.date
